This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## ğŸ¯ Fantasia - AI é©±åŠ¨çš„å°è¯´åˆ›ä½œå¹³å°

ä¸€ä¸ªåŸºäº Next.js å’Œ Supabase æ„å»ºçš„ç°ä»£åŒ–å†™ä½œå¹³å°ï¼Œå¸®åŠ©åˆ›ä½œè€…é€šè¿‡ AI æŠ€æœ¯é«˜æ•ˆç”Ÿæˆå’Œç®¡ç†å°è¯´å†…å®¹ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯**ï¼šå®‰å…¨çš„ç”¨æˆ·ç™»å½•å’Œä¼šè¯ç®¡ç†
- ğŸ“š **é¡¹ç›®ç®¡ç†**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ä¸ªäººä¹¦ç±é¡¹ç›®
- ğŸ¤– **AI è¾…åŠ©åˆ›ä½œ**ï¼š
  - ä¸€é”®ç”Ÿæˆå®Œæ•´æ•…äº‹è®¾å®šï¼ˆä¸–ç•Œè§‚ã€è§’è‰²ã€å¤§çº²ï¼‰
  - æ™ºèƒ½ç”Ÿæˆç« èŠ‚å†…å®¹
  - è‡ªåŠ¨åˆ†æå’Œå­˜å‚¨ç« èŠ‚è®°å¿†
- ğŸ’¾ **äº‘ç«¯å­˜å‚¨**ï¼šæ‰€æœ‰æ•°æ®è‡ªåŠ¨ä¿å­˜åˆ° Supabase æ•°æ®åº“
- ğŸ¨ **ä¼˜é›…ç•Œé¢**ï¼šå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯

### ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šNext.js 16 + React 19 + TypeScript
- **æ ·å¼**ï¼šTailwind CSS 4.1
- **æ•°æ®åº“**ï¼šSupabase (PostgreSQL)
- **AI é›†æˆ**ï¼šGoogle Gemini API
- **è®¤è¯**ï¼šSupabase Auth

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

## ğŸ“ é¡¹ç›®ç»“æ„

```
fantasia-next/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ projects/          # é¡¹ç›®ç®¡ç†é¡µé¢
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”œâ”€â”€ SetupWizard.tsx    # ä¹¦ç±è®¾å®šå‘å¯¼
â”‚   â”œâ”€â”€ WritingInterface.tsx # å†™ä½œç•Œé¢
â”‚   â””â”€â”€ StoryProvider.tsx  # å…¨å±€çŠ¶æ€ç®¡ç†
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ supabase-client.ts # Supabaseå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ supabase-db.ts     # æ•°æ®åº“æ“ä½œ
â”‚   â””â”€â”€ types.ts           # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ services/              # å¤–éƒ¨æœåŠ¡
â”‚   â””â”€â”€ gemini.ts          # Google Gemini API
â””â”€â”€ supabase-schema.sql    # æ•°æ®åº“schema
```

## ğŸ”§ æ ¸å¿ƒç‰¹æ€§

### æ•°æ®åº“è®¾è®¡

åŸºäºã€Šå¤±è½çš„ç‰ç°ªã€‹å°è¯´æ ¼å¼ï¼Œè®¾è®¡äº†å®Œæ•´çš„æ•°æ®åº“ schemaï¼š

- **profiles**ï¼šç”¨æˆ·ä¸ªäººèµ„æ–™ï¼ˆemailã€å…¨åã€å¤´åƒã€ç®€ä»‹ç­‰ï¼‰
- **books**ï¼šä¹¦ç±åŸºæœ¬ä¿¡æ¯
- **characters**ï¼šè§’è‰²è®¾å®š
- **outlines**ï¼šç« èŠ‚å¤§çº²
- **instructions**ï¼šå†™ä½œæŒ‡ä»¤
- **chapters**ï¼šç« èŠ‚å†…å®¹
- **chapter_memories**ï¼šç« èŠ‚è®°å¿†åˆ†æ
- **user_credits**ï¼šç”¨æˆ·ç§¯åˆ†ç³»ç»Ÿ
- **admin_users**ï¼šç®¡ç†å‘˜ç”¨æˆ·è¡¨

### æ•°æ®åº“è¿ç§»

é¡¹ç›®åŒ…å«å¤šä¸ª SQL è¿ç§»æ–‡ä»¶ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

1. `supabase-schema.sql` - åŸºç¡€è¡¨ç»“æ„å’Œ RLS ç­–ç•¥
2. `create_profiles_table.sql` - ç”¨æˆ·èµ„æ–™è¡¨å’Œè‡ªåŠ¨åˆ›å»ºè§¦å‘å™¨
3. `admin_users_migration.sql` - ç®¡ç†å‘˜ç”¨æˆ·è¡¨
4. `admin_view_users_migration.sql` - ç®¡ç†å‘˜æŸ¥çœ‹ç”¨æˆ·å‡½æ•°ï¼ˆæ³¨æ„ï¼šä¼šå…ˆåˆ é™¤æ—§å‡½æ•°å†åˆ›å»ºï¼‰
5. `add_admin_rls_policies.sql` - ç®¡ç†å‘˜è®¿é—®ç­–ç•¥
6. `user_credits_migration.sql` - ç”¨æˆ·ç§¯åˆ†è¡¨

åœ¨ Supabase æ§åˆ¶å°çš„ SQL Editor ä¸­ä¾æ¬¡æ‰§è¡Œè¿™äº›æ–‡ä»¶ã€‚

**æ³¨æ„**ï¼šå¦‚æœæ‰§è¡Œ `admin_view_users_migration.sql` æ—¶é‡åˆ°å‡½æ•°è¿”å›ç±»å‹é”™è¯¯ï¼Œè¯·ç¡®ä¿æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œæˆ–å•ç‹¬æ‰§è¡Œè¯¥æ–‡ä»¶ã€‚

### è‡ªåŠ¨ä¿å­˜æœºåˆ¶

- ä¹¦ç±è®¾å®šé¡µé¢æä¾›æ‰‹åŠ¨ä¿å­˜æŒ‰é’®
- ä¸€é”®ç”Ÿæˆçµæ„Ÿåè‡ªåŠ¨ä¿å­˜è®¾å®š
- ç« èŠ‚ç”Ÿæˆåè‡ªåŠ¨ä¿å­˜å†…å®¹å’Œè®°å¿†
- æ‰€æœ‰æ•°æ®å®æ—¶åŒæ­¥åˆ° Supabase

### AI é›†æˆ

- Google Gemini API é©±åŠ¨çš„æ™ºèƒ½åˆ›ä½œ
- æ”¯æŒå®Œæ•´æ•…äº‹ç”Ÿæˆå’Œç« èŠ‚ç»­å†™
- è‡ªåŠ¨åˆ†æç« èŠ‚ä¸Šä¸‹æ–‡å’Œè®°å¿†ç‚¹

## ğŸ“š ä½¿ç”¨æŒ‡å—

1. **æ³¨å†Œç™»å½•**ï¼šä½¿ç”¨é‚®ç®±æ³¨å†Œè´¦æˆ·
2. **åˆ›å»ºé¡¹ç›®**ï¼šç‚¹å‡»"æ–°å»ºä¹¦ç±"å¼€å§‹åˆ›ä½œ
3. **è®¾å®šä¸–ç•Œ**ï¼šé€šè¿‡å‘å¯¼è®¾ç½®æ•…äº‹æ ¸å¿ƒæ¦‚å¿µ
4. **AI ç”Ÿæˆ**ï¼šä½¿ç”¨ä¸€é”®ç”Ÿæˆæˆ–é€æ­¥æ„å»ºæ•…äº‹
5. **å†™ä½œåˆ›ä½œ**ï¼šåœ¨å†™ä½œç•Œé¢ç”Ÿæˆå’Œç®¡ç†ç« èŠ‚
6. **å¯¼å‡ºä½œå“**ï¼šæ”¯æŒ Markdown æ ¼å¼å¯¼å‡º

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. è¿æ¥ GitHub ä»“åº“åˆ° Vercel
2. é…ç½®ç¯å¢ƒå˜é‡
3. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ

### å…¶ä»–å¹³å°

æ”¯æŒä»»ä½•æ”¯æŒ Node.js çš„äº‘å¹³å°éƒ¨ç½²ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License
